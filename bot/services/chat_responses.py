# bot/services/chat_responses.py
import random
from typing import Dict, List

class ChatResponses:
    """–ì–æ—Ç–æ–≤—ã–µ –æ—Ç–≤–µ—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ–±—â–µ–Ω–∏—è"""
    
    def __init__(self):
        self.greeting_responses = [
            "–ü—Ä–∏–≤–µ—Ç! üëã –Ø –ø–æ–º–æ—â–Ω–∏–∫ –∫–æ–º–ø–∞–Ω–∏–∏ ECOFES ‚Äî —Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–º–∞–∑–æ—á–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤. –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?",
            "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –ú–µ–Ω—è –∑–æ–≤—É—Ç EcoBot, —è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é –∫–æ–º–ø–∞–Ω–∏—é ECOFES. –ì–æ—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–∞—à–∏ –≤–æ–ø—Ä–æ—Å—ã –æ –º–∞—Å–ª–∞—Ö –∏ —Å–º–∞–∑–æ—á–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–∞—Ö!",
            "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –†–∞–¥ –≤–∞—Å –≤–∏–¥–µ—Ç—å –≤ –±–æ—Ç–µ ECOFES. –ü–æ–º–æ–≥—É –ø–æ–¥–æ–±—Ä–∞—Ç—å –º–∞—Å–ª–æ –∏–ª–∏ —Ä–∞—Å—Å–∫–∞–∂—É –æ –Ω–∞—à–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–∞—Ö. –û —á—ë–º —Ö–æ—Ç–∏—Ç–µ —É–∑–Ω–∞—Ç—å?",
        ]
        
        self.about_responses = [
            """üè≠ <b>–û –∫–æ–º–ø–∞–Ω–∏–∏ ECOFES</b>

–ú—ã ‚Äî —Ä–æ—Å—Å–∏–π—Å–∫–∏–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–º–∞–∑–æ—á–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –∑–∞–≤–æ–¥–æ–º –≤ –≥. –≠–Ω–≥–µ–ª—å—Å.

<b>–ù–∞—à–∏ –ø—Ä–æ–¥—É–∫—Ç—ã:</b>
‚Ä¢ –ú–æ—Ç–æ—Ä–Ω—ã–µ –º–∞—Å–ª–∞ –¥–ª—è –ª–µ–≥–∫–æ–≤—ã—Ö –∏ –≥—Ä—É–∑–æ–≤—ã—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
‚Ä¢ –¢—Ä–∞–Ω—Å–º–∏—Å—Å–∏–æ–Ω–Ω—ã–µ –∏ –≥–∏–¥—Ä–∞–≤–ª–∏—á–µ—Å–∫–∏–µ –∂–∏–¥–∫–æ—Å—Ç–∏  
‚Ä¢ –ú–∞—Å–ª–∞ –¥–ª—è —Å–ø–µ—Ü—Ç–µ—Ö–Ω–∏–∫–∏ –∏ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
‚Ä¢ –°–º–∞–∑–∫–∏ –∏ –æ—Ö–ª–∞–∂–¥–∞—é—â–∏–µ –∂–∏–¥–∫–æ—Å—Ç–∏

<b>–û—Ñ–∏—Å:</b> –≥. –ú–æ—Å–∫–≤–∞, –ø—Ä–æ—Å–ø–µ–∫—Ç –í–µ—Ä–Ω–∞–¥—Å–∫–æ–≥–æ, 8–ê, –æ—Ñ–∏—Å 102
<b>–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ:</b> –≥. –≠–Ω–≥–µ–ª—å—Å, —É–ª. –ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∞—è, 12
<b>–¢–µ–ª–µ—Ñ–æ–Ω:</b> +7 (800) 700-80-39
<b>Email:</b> zakaz@ecoschemtech.ru

–†–∞–±–æ—Ç–∞–µ–º –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏ —Å –¥–∏–ª–µ—Ä—Å–∫–æ–π —Å–µ—Ç—å—é –∏ –ø—Ä—è–º—ã–º–∏ –ø–æ—Å—Ç–∞–≤–∫–∞–º–∏! üöõ""",

            """ü§ñ <b>–û–±–æ –º–Ω–µ</b>

–Ø ‚Äî –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ ECOFES, —Å–æ–∑–¥–∞–Ω–Ω—ã–π —á—Ç–æ–±—ã:

‚úÖ –ü–æ–º–æ—á—å –ø–æ–¥–æ–±—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –º–∞—Å–ª–æ –¥–ª—è –≤–∞—à–µ–π —Ç–µ—Ö–Ω–∏–∫–∏
‚úÖ –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã –æ –ø—Ä–æ–¥—É–∫—Ç–∞—Ö
‚úÖ –†–∞—Å—Å–∫–∞–∑–∞—Ç—å –æ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞—Ö –Ω–∞—à–∏—Ö —Å–º–∞–∑–æ—á–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤  
‚úÖ –°–æ–µ–¥–∏–Ω–∏—Ç—å —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–π –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏
‚úÖ –ü—Ä–∏–Ω—è—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å

–ó–∞–¥–∞–≤–∞–π—Ç–µ –ª—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã ‚Äî –ø–æ—Å—Ç–∞—Ä–∞—é—Å—å –ø–æ–º–æ—á—å! –ê –µ—Å–ª–∏ –Ω–µ —Å–ø—Ä–∞–≤–ª—é—Å—å, –ø–µ—Ä–µ–∫–ª—é—á—É –Ω–∞ –∂–∏–≤–æ–≥–æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞ üë®‚Äçüíº""",
        ]
        
        self.simple_responses = [
            "–†–∞–¥ –ø–æ–º–æ—á—å! –ï—Å—Ç—å –µ—â—ë –≤–æ–ø—Ä–æ—Å—ã?",
            "–í—Å–µ–≥–¥–∞ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞! –ß–µ–º –µ—â—ë –º–æ–≥—É –±—ã—Ç—å –ø–æ–ª–µ–∑–µ–Ω?",
            "–û—Ç–ª–∏—á–Ω–æ! –ï—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —á—Ç–æ-—Ç–æ –µ—â—ë ‚Äî –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å.",
            "–•–æ—Ä–æ—à–æ! –ì–æ—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –¥—Ä—É–≥–∏–µ –≤–æ–ø—Ä–æ—Å—ã –æ –Ω–∞—à–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–∞—Ö.",
        ]
        
        self.goodbye_responses = [
            "–î–æ —Å–≤–∏–¥–∞–Ω–∏—è! –£–¥–∞—á–∏ –Ω–∞ –¥–æ—Ä–æ–≥–∞—Ö —Å –º–∞—Å–ª–∞–º–∏ ECOFES! üöó",
            "–ü–æ–∫–∞! –û–±—Ä–∞—â–∞–π—Ç–µ—Å—å, –µ—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –ø–æ–º–æ—â—å —Å –≤—ã–±–æ—Ä–æ–º –º–∞—Å–µ–ª! üëã",
            "–î–æ –≤—Å—Ç—Ä–µ—á–∏! –•–æ—Ä–æ—à–µ–≥–æ –¥–Ω—è –∏ –Ω–∞–¥—ë–∂–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤–∞—à–µ–π —Ç–µ—Ö–Ω–∏–∫–∏! ‚öôÔ∏è",
        ]
        
        self.unknown_responses = [
            "–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Å—å –Ω–∞ –≤–æ–ø—Ä–æ—Å–∞—Ö –æ —Å–º–∞–∑–æ—á–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–∞—Ö ECOFES. –ú–æ–≥—É —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –æ –Ω–∞—à–∏—Ö –º–∞—Å–ª–∞—Ö –∏–ª–∏ —Å–æ–µ–¥–∏–Ω–∏—Ç—å —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –¥–ª—è –¥—Ä—É–≥–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤.",
            "–ù–µ —Å–æ–≤—Å–µ–º –ø–æ–Ω—è–ª –≤–∞—à –∑–∞–ø—Ä–æ—Å. –Ø –ª—É—á—à–µ –≤—Å–µ–≥–æ —Ä–∞–∑–±–∏—Ä–∞—é—Å—å –≤ –º–∞—Å–ª–∞—Ö, —Å–º–∞–∑–∫–∞—Ö –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö. –ß—Ç–æ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –∏–∑ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ ECOFES?",
            "–ò–∑–≤–∏–Ω–∏—Ç–µ, –Ω–æ —ç—Ç–æ—Ç –≤–æ–ø—Ä–æ—Å –Ω–µ –ø–æ –º–æ–µ–π —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏. –ó–∞—Ç–æ –º–æ–≥—É –ø–æ–º–æ—á—å –≤—ã–±—Ä–∞—Ç—å –º–∞—Å–ª–æ –¥–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª—è –∏–ª–∏ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è! –û —á—ë–º —Ä–∞—Å—Å–∫–∞–∂—É?",
        ]
    
    def get_greeting_response(self) -> str:
        """–°–ª—É—á–∞–π–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ"""
        return random.choice(self.greeting_responses)
    
    def get_about_response(self, query_text: str) -> str:
        """–û—Ç–≤–µ—Ç –æ –∫–æ–º–ø–∞–Ω–∏–∏ –∏–ª–∏ –±–æ—Ç–µ"""
        query_lower = query_text.lower()
        
        # –ï—Å–ª–∏ —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –æ –±–æ—Ç–µ
        if any(word in query_lower for word in ["—Ç—ã", "—Ç–µ–±—è", "—Å–µ–±–µ", "–±–æ—Ç"]):
            return self.about_responses[1]  # –û –±–æ—Ç–µ
        else:
            return self.about_responses[0]  # –û –∫–æ–º–ø–∞–Ω–∏–∏
    
    def get_simple_response(self) -> str:
        """–ü—Ä–æ—Å—Ç–æ–π –æ—Ç–≤–µ—Ç –Ω–∞ –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å/–∫–æ—Ä–æ—Ç–∫–∏–µ —Ñ—Ä–∞–∑—ã"""
        return random.choice(self.simple_responses)
    
    def get_goodbye_response(self) -> str:
        """–û—Ç–≤–µ—Ç –Ω–∞ –ø—Ä–æ—â–∞–Ω–∏–µ"""
        return random.choice(self.goodbye_responses)
    
    def get_unknown_response(self) -> str:
        """–û—Ç–≤–µ—Ç –Ω–∞ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã"""
        return random.choice(self.unknown_responses)
